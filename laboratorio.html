<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Laboratório Virtual - Biblioteca Didática SRE</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #f6d365 0%, #fda085 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .header {
      text-align: center;
      margin-bottom: 30px;
      padding: 25px;
      background: white;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }

    .header h1 {
      color: #d69e2e;
      margin-bottom: 10px;
      font-size: 2.2rem;
    }

    .header p {
      color: #4a5568;
      font-size: 1.1rem;
      max-width: 800px;
      margin: 0 auto;
    }

    .back-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 12px 24px;
      background: #d69e2e;
      color: white;
      text-decoration: none;
      border-radius: 10px;
      margin-top: 20px;
      font-weight: 600;
      transition: all 0.3s;
    }

    .back-btn:hover {
      background: #b7791f;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }

    .simulation-selector {
      background: white;
      padding: 25px;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      margin-bottom: 30px;
    }

    .section-title {
      color: #2d3748;
      margin-bottom: 25px;
      padding-bottom: 15px;
      border-bottom: 3px solid #d69e2e;
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 1.3rem;
    }

    .section-title i {
      color: #d69e2e;
    }

    .category-tabs {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 25px;
    }

    .tab-btn {
      padding: 12px 20px;
      background: #f7fafc;
      border: 2px solid #e2e8f0;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .tab-btn:hover {
      border-color: #d69e2e;
      transform: translateY(-2px);
    }

    .tab-btn.active {
      background: #d69e2e;
      color: white;
      border-color: #d69e2e;
    }

    .simulations-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
    }

    .simulation-card {
      background: #f7fafc;
      border-radius: 12px;
      padding: 20px;
      border: 2px solid #e2e8f0;
      transition: all 0.3s;
      cursor: pointer;
    }

    .simulation-card:hover {
      border-color: #d69e2e;
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }

    .simulation-card.active {
      border-color: #d69e2e;
      background: #fffaf0;
    }

    .sim-icon {
      width: 60px;
      height: 60px;
      background: #d69e2e;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 15px;
      color: white;
      font-size: 1.5rem;
    }

    .sim-title {
      font-size: 1.1rem;
      margin-bottom: 10px;
      color: #2d3748;
    }

    .sim-description {
      font-size: 0.9rem;
      color: #718096;
      margin-bottom: 15px;
      line-height: 1.4;
    }

    .sim-meta {
      display: flex;
      justify-content: space-between;
      font-size: 0.8rem;
      color: #a0aec0;
    }

    .sim-container {
      background: white;
      padding: 25px;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      margin-bottom: 30px;
    }

    .iframe-wrapper {
      position: relative;
      width: 100%;
      padding-bottom: 70%; /* Proporção 16:9 */
      height: 0;
      overflow: hidden;
      border-radius: 12px;
      background: #f7fafc;
    }

    .iframe-wrapper iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
    }

    .controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 20px;
      padding: 15px;
      background: #f7fafc;
      border-radius: 10px;
    }

    .fullscreen-btn {
      padding: 10px 20px;
      background: #d69e2e;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.3s;
    }

    .fullscreen-btn:hover {
      background: #b7791f;
    }

    .sim-info {
      font-size: 0.9rem;
      color: #718096;
    }

    .instructions {
      background: #fffaf0;
      padding: 25px;
      border-radius: 15px;
      margin-top: 30px;
      border-left: 4px solid #d69e2e;
    }

    .instructions h3 {
      color: #d69e2e;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .instructions ul {
      list-style: none;
      padding-left: 10px;
    }

    .instructions li {
      padding: 10px 0;
      border-bottom: 1px solid #fed7d7;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .instructions li i {
      color: #d69e2e;
    }

    .subject-info {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .info-card {
      background: white;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    .info-card h4 {
      color: #d69e2e;
      margin-bottom: 10px;
    }

    .loading {
      text-align: center;
      padding: 40px;
      color: #718096;
    }

    .loading i {
      font-size: 2rem;
      color: #d69e2e;
      margin-bottom: 15px;
    }

    @media (max-width: 768px) {
      .controls {
        flex-direction: column;
        gap: 15px;
        align-items: stretch;
      }
      
      .category-tabs {
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="header">
      <h1><i class="fas fa-flask"></i> Laboratório Virtual de Ciências</h1>
      <p>Simulações interativas para ensino de Física, Química e Biologia. Experimente sem riscos!</p>
      <a href="index.html#ciencias-natureza" class="back-btn">
        <i class="fas fa-arrow-left"></i> Voltar para Ciências da Natureza
      </a>
    </header>

    <section class="simulation-selector">
      <h2 class="section-title"><i class="fas fa-vial"></i> Escolha uma Simulação</h2>
      
      <div class="category-tabs">
        <button class="tab-btn active" data-category="fisica">
          <i class="fas fa-atom"></i> Física
        </button>
        <button class="tab-btn" data-category="quimica">
          <i class="fas fa-vial"></i> Química
        </button>
        <button class="tab-btn" data-category="biologia">
          <i class="fas fa-dna"></i> Biologia
        </button>
        <button class="tab-btn" data-category="ciencias">
          <i class="fas fa-microscope"></i> Ciências
        </button>
      </div>

      <div class="simulations-grid" id="simulationsGrid">
        <!-- Simulações serão carregadas aqui -->
      </div>
    </section>

    <section class="sim-container">
      <h2 class="section-title"><i class="fas fa-play-circle"></i> Simulação em Execução</h2>
      
      <div class="loading" id="loadingSim">
        <i class="fas fa-spinner fa-spin"></i>
        <p>Carregando simulação...</p>
      </div>

      <div class="iframe-wrapper" id="iframeContainer" style="display: none;">
        <iframe id="simulationFrame" allowfullscreen></iframe>
      </div>

      <div class="controls">
        <div class="sim-info" id="simulationInfo">
          <strong>Simulação:</strong> <span id="simTitle">Nenhuma selecionada</span><br>
          <strong>Disciplina:</strong> <span id="simSubject">-</span>
        </div>
        <button class="fullscreen-btn" id="fullscreenBtn">
          <i class="fas fa-expand"></i> Tela Cheia
        </button>
      </div>
    </section>

    <section class="instructions">
      <h3><i class="fas fa-graduation-cap"></i> Como usar na aula:</h3>
      <ul>
        <li><i class="fas fa-mouse-pointer"></i> Clique em uma simulação para carregar</li>
        <li><i class="fas fa-sliders-h"></i> Ajuste parâmetros com os controles</li>
        <li><i class="fas fa-play"></i> Execute o experimento virtualmente</li>
        <li><i class="fas fa-chart-bar"></i> Analise dados e resultados</li>
        <li><i class="fas fa-users"></i> Discuta observações com a turma</li>
      </ul>

      <div class="subject-info">
        <div class="info-card">
          <h4><i class="fas fa-atom"></i> Física</h4>
          <p>Movimento, força, energia, eletricidade, ondas</p>
        </div>
        <div class="info-card">
          <h4><i class="fas fa-vial"></i> Química</h4>
          <p>Reações, equilíbrio, pH, ligações químicas</p>
        </div>
        <div class="info-card">
          <h4><i class="fas fa-dna"></i> Biologia</h4>
          <p>Genética, evolução, ecologia, fisiologia</p>
        </div>
        <div class="info-card">
          <h4><i class="fas fa-microscope"></i> Ciências</h4>
          <p>Experimentos básicos para ensino fundamental</p>
        </div>
      </div>
    </section>
  </div>

  <script>
    // Dados das simulações PhET
    const simulations = {
      fisica: [
        {
          id: 'forces-and-motion',
          title: 'Força e Movimento',
          description: 'Explore as leis de Newton com forças aplicadas a objetos',
          url: 'https://phet.colorado.edu/sims/html/forces-and-motion-basics/latest/forces-and-motion-basics_pt_BR.html',
          icon: 'fas fa-running',
          level: 'Médio'
        },
        {
          id: 'energy-skate-park',
          title: 'Parque de Skate Energético',
          description: 'Conservação de energia cinética e potencial',
          url: 'https://phet.colorado.edu/sims/html/energy-skate-park/latest/energy-skate-park_pt_BR.html',
          icon: 'fas fa-skating',
          level: 'Básico'
        },
        {
          id: 'circuit-construction',
          title: 'Construção de Circuitos',
          description: 'Monte circuitos elétricos e teste diferentes componentes',
          url: 'https://phet.colorado.edu/sims/html/circuit-construction-kit-dc/latest/circuit-construction-kit-dc_pt_BR.html',
          icon: 'fas fa-bolt',
          level: 'Avançado'
        },
        {
          id: 'wave-on-a-string',
          title: 'Onda em uma Corda',
          description: 'Estudo de ondas mecânicas e seus parâmetros',
          url: 'https://phet.colorado.edu/sims/html/wave-on-a-string/latest/wave-on-a-string_pt_BR.html',
          icon: 'fas fa-wave-square',
          level: 'Médio'
        }
      ],
      quimica: [
        {
          id: 'balancing-chemical',
          title: 'Balanceamento Químico',
          description: 'Balanceie equações químicas visualmente',
          url: 'https://phet.colorado.edu/sims/html/balancing-chemical-equations/latest/balancing-chemical-equations_pt_BR.html',
          icon: 'fas fa-balance-scale',
          level: 'Básico'
        },
        {
          id: 'molarity',
          title: 'Molaridade',
          description: 'Entenda concentração de soluções químicas',
          url: 'https://phet.colorado.edu/sims/html/molarity/latest/molarity_pt_BR.html',
          icon: 'fas fa-flask',
          level: 'Médio'
        },
        {
          id: 'ph-scale',
          title: 'Escala de pH',
          description: 'Explore acidez e basicidade de diferentes substâncias',
          url: 'https://phet.colorado.edu/sims/html/ph-scale/latest/ph-scale_pt_BR.html',
          icon: 'fas fa-vial',
          level: 'Básico'
        }
      ],
      biologia: [
        {
          id: 'natural-selection',
          title: 'Seleção Natural',
          description: 'Simule a evolução de populações através da seleção natural',
          url: 'https://phet.colorado.edu/sims/html/natural-selection/latest/natural-selection_pt_BR.html',
          icon: 'fas fa-dna',
          level: 'Médio'
        },
        {
          id: 'gene-expression',
          title: 'Expressão Gênica',
          description: 'Entenda como genes controlam a produção de proteínas',
          url: 'https://phet.colorado.edu/sims/html/gene-expression-essentials/latest/gene-expression-essentials_pt_BR.html',
          icon: 'fas fa-microscope',
          level: 'Avançado'
        },
        {
          id: 'neuron',
          title: 'Neurônio',
          description: 'Explore a transmissão de impulsos nervosos',
          url: 'https://phet.colorado.edu/sims/html/neuron/latest/neuron_pt_BR.html',
          icon: 'fas fa-brain',
          level: 'Médio'
        }
      ],
      ciencias: [
        {
          id: 'states-of-matter',
          title: 'Estados da Matéria',
          description: 'Observe transições entre sólido, líquido e gasoso',
          url: 'https://phet.colorado.edu/sims/html/states-of-matter-basics/latest/states-of-matter-basics_pt_BR.html',
          icon: 'fas fa-snowflake',
          level: 'Básico'
        },
        {
          id: 'buoyancy',
          title: 'Flutuabilidade',
          description: 'Investigue o princípio de Arquimedes',
          url: 'https://phet.colorado.edu/sims/html/buoyancy/latest/buoyancy_pt_BR.html',
          icon: 'fas fa-swimming-pool',
          level: 'Básico'
        },
        {
          id: 'color-vision',
          title: 'Visão das Cores',
          description: 'Explore como vemos diferentes cores',
          url: 'https://phet.colorado.edu/sims/html/color-vision/latest/color-vision_pt_BR.html',
          icon: 'fas fa-eye',
          level: 'Básico'
        }
      ]
    };

    // Elementos DOM
    const tabs = document.querySelectorAll('.tab-btn');
    const simulationsGrid = document.getElementById('simulationsGrid');
    const iframeContainer = document.getElementById('iframeContainer');
    const simulationFrame = document.getElementById('simulationFrame');
    const loadingSim = document.getElementById('loadingSim');
    const fullscreenBtn = document.getElementById('fullscreenBtn');
    const simTitle = document.getElementById('simTitle');
    const simSubject = document.getElementById('simSubject');
    const simulationInfo = document.getElementById('simulationInfo');

    // Estado atual
    let currentCategory = 'fisica';
    let currentSimulation = null;

    // Inicialização
    function init() {
      loadCategory('fisica');
      setupEventListeners();
      
      // Carregar primeira simulação por padrão
      setTimeout(() => {
        const firstSim = simulations.fisica[0];
        loadSimulation(firstSim, 'fisica');
      }, 500);
    }

    function loadCategory(category) {
      currentCategory = category;
      
      // Atualizar tabs
      tabs.forEach(tab => {
        if (tab.dataset.category === category) {
          tab.classList.add('active');
        } else {
          tab.classList.remove('active');
        }
      });
      
      // Carregar simulações
      const categorySims = simulations[category];
      simulationsGrid.innerHTML = '';
      
      categorySims.forEach(sim => {
        const card = document.createElement('div');
        card.className = 'simulation-card';
        if (currentSimulation && currentSimulation.id === sim.id) {
          card.classList.add('active');
        }
        card.dataset.id = sim.id;
        card.innerHTML = `
          <div class="sim-icon">
            <i class="${sim.icon}"></i>
          </div>
          <h3 class="sim-title">${sim.title}</h3>
          <p class="sim-description">${sim.description}</p>
          <div class="sim-meta">
            <span>Nível: ${sim.level}</span>
            <span><i class="fas fa-play-circle"></i></span>
          </div>
        `;
        simulationsGrid.appendChild(card);
        
        card.addEventListener('click', () => {
          loadSimulation(sim, category);
          
          // Atualizar seleção visual
          document.querySelectorAll('.simulation-card').forEach(c => {
            c.classList.remove('active');
          });
          card.classList.add('active');
        });
      });
    }

    function loadSimulation(sim, category) {
      currentSimulation = sim;
      
      // Mostrar loading
      iframeContainer.style.display = 'none';
      loadingSim.style.display = 'block';
      
      // Atualizar informações
      simTitle.textContent = sim.title;
      simSubject.textContent = getCategoryName(category);
      
      // Carregar iframe
      simulationFrame.src = sim.url;
      
      // Quando o iframe carregar
      simulationFrame.onload = () => {
        loadingSim.style.display = 'none';
        iframeContainer.style.display = 'block';
      };
    }

    function setupEventListeners() {
      // Tabs de categoria
      tabs.forEach(tab => {
        tab.addEventListener('click', () => {
          loadCategory(tab.dataset.category);
        });
      });
      
      // Botão de tela cheia
      fullscreenBtn.addEventListener('click', () => {
        if (iframeContainer.requestFullscreen) {
          iframeContainer.requestFullscreen();
        } else if (iframeContainer.webkitRequestFullscreen) {
          iframeContainer.webkitRequestFullscreen();
        } else if (iframeContainer.msRequestFullscreen) {
          iframeContainer.msRequestFullscreen();
        }
      });
      
      // Detect when exiting fullscreen
      document.addEventListener('fullscreenchange', () => {
        if (!document.fullscreenElement) {
          // Sair da tela cheia
        }
      });
    }

    function getCategoryName(category) {
      const names = {
        fisica: 'Física',
        quimica: 'Química',
        biologia: 'Biologia',
        ciencias: 'Ciências'
      };
      return names[category] || category;
    }

    // Inicializar
    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>