<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-Y07NPE5TJ1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-Y07NPE5TJ1');
  </script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Documentos Oficiais - Biblioteca Did√°tica SRE Aragua√≠na</title>
  <meta name="description" content="Acesse documentos oficiais da SRE Aragua√≠na: memorandos, portarias, matrizes curriculares e mais" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="css/documentos.css" />
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
<header class="site-header">
    <div class="header-top">
      <div class="logo">
        <button class="menu-toggle" aria-label="Abrir menu"><i class="fas fa-bars"></i></button>
        <img src="img/LogoSRE.png" alt="Logo SRE" />
        <div class="brand">
          <h1>Biblioteca Did√°tica</h1>
          <p>Curr√≠culo, Forma√ß√£o e Avalia√ß√£o</p>
        </div>
      </div>
    </div>
    
    <!-- Menu Principal -->
    <nav class="main-nav" id="mainNav">
      <div class="nav-main-items">
        <!-- Bot√£o In√≠cio -->
        <a href="index.html" class="nav-link active" data-target="inicio">
        <i class="fas fa-home nav-icon"></i>
         In√≠cio
        </a>

        <!-- √Åreas do Conhecimento (com submenu) -->
        <div class="nav-item-with-submenu">
          <button class="nav-link nav-main-link" data-submenu="areas">
            <i class="fas fa-book nav-icon"></i>
            √Åreas do Conhecimento
            <i class="fas fa-chevron-down submenu-arrow"></i>
          </button>
          <div class="submenu" id="submenu-areas">
            <a class="nav-link submenu-link" href="index.html#linguagens">
              <i class="fas fa-language"></i>
              Linguagens
            </a>
            <a class="nav-link submenu-link" href="index.html#linguagens">
              <i class="fas fa-calculator"></i>
              Matem√°tica
            </a>
            <a class="nav-link submenu-link" href="index.html#ciencias-natureza">
              <i class="fas fa-flask"></i>
              Ci√™ncias da Natureza
            </a>
            <a class="nav-link submenu-link" href="index.html#ciencias-humanas">
              <i class="fas fa-globe-americas"></i>
              Ci√™ncias Humanas
            </a>
            <a class="nav-link submenu-link" href="index.html#atividades-adaptadas">
              <i class="fas fa-universal-access"></i>
              Atividades Adaptadas
            </a>
          </div>
        </div>

        <!-- Outras P√°ginas (submenu) -->
        <div class="nav-item-with-submenu">
          <button class="nav-link nav-main-link" data-submenu="pages">
            <i class="fas fa-th nav-icon"></i>
            Mais Op√ß√µes
            <i class="fas fa-chevron-down submenu-arrow"></i>
          </button>
          <div class="submenu" id="submenu-pages">
            <a class="nav-link submenu-link" href="documentos.html">
              <i class="fas fa-file-alt"></i>
              Documentos Oficiais
            </a>
            <a class="nav-link submenu-link" href="favoritos.html">
              <i class="fas fa-star"></i>
              Meus Favoritos
              <span class="favorites-count"></span>
            </a>
            <a class="nav-link submenu-link" href="planejador.html">
              <i class="fas fa-calendar-alt"></i>
              Planejador
            </a>
            <a class="nav-link submenu-link" href="compartilhar.html">
              <i class="fas fa-share-alt"></i>
              Enviar Material
            </a>
            <a class="nav-link submenu-link" href="sobre.html">
              <i class="fas fa-info-circle"></i>
              Sobre N√≥s
            </a>
          </div>
        </div>
      </div>
    </nav>
  </header>

  <main class="container">
    <!-- P√°gina principal de documentos -->
    <section id="documentos-principal" class="content-section">
      <a href="index.html" class="btn" style="background: #95a5a6; margin-bottom: 1.5rem; display: inline-flex; align-items: center; gap: 5px; padding: 0.5rem 1rem;">‚Üê Voltar para a P√°gina Inicial</a>
      
      <h2>Documentos Oficiais</h2>
      
      <div class="doc-intro">
        <p>Aqui voc√™ encontra documentos oficiais, normativas, matrizes curriculares e outros materiais institucionais importantes para o trabalho pedag√≥gico na rede estadual de ensino.</p>
      </div>

      <!-- Documentos Oficiais -->
      <div class="doc-grid">
        <div class="doc-card">
          <div class="doc-icon">üìã</div>
          <h3 class="doc-name">Memorandos</h3>
          <div class="doc-description">Comunica√ß√µes internas e of√≠cios da SRE</div>
          <a href="#memorandos" class="doc-btn" data-show="memorandos">Acessar Documentos</a>
        </div>
        
        <div class="doc-card">
          <div class="doc-icon">üìä</div>
          <h3 class="doc-name">Matriz de Recomposi√ß√£o</h3>
          <div class="doc-description">Documentos para recomposi√ß√£o de aprendizagens</div>
          <a href="#matriz-recomposicao" class="doc-btn" data-show="matriz-recomposicao">Acessar Documentos</a>
        </div>
        
        <div class="doc-card">
          <div class="doc-icon">üìë</div>
          <h3 class="doc-name">Portarias</h3>
          <div class="doc-description">Normativas e determina√ß√µes oficiais</div>
          <a href="#portarias" class="doc-btn" data-show="portarias">Acessar Documentos</a>
        </div>

        <div class="doc-card">
          <div class="doc-icon">üìö</div>
          <h3 class="doc-name">BNCC / DCT</h3>
          <div class="doc-description">Base Nacional Comum Curricular e Documento Curricular do Tocantins</div>
          <a href="#bncc-dct" class="doc-btn" data-show="bncc-dct">Acessar Documentos</a>
        </div>
        
        <div class="doc-card">
          <div class="doc-icon">üè´</div>
          <h3 class="doc-name">PPP</h3>
          <div class="doc-description">Projeto Pol√≠tico Pedag√≥gico das escolas</div>
          <a href="https://lookerstudio.google.com/s/qx2BKs8rewQ" class="doc-btn" >Acessar Documentos</a>
        </div>
        
        <div class="doc-card">
          <div class="doc-icon">üíª</div>
          <h3 class="doc-name">Plataformas</h3>
          <div class="doc-description">Manuais e tutoriais de plataformas educacionais</div>
          <a href="#plataformas" class="doc-btn" data-show="plataformas">Acessar Documentos</a>
        </div>
      </div>

      <div class="tips" style="margin-top: 2rem;">
        <center><p><strong>D√∫vidas ou sugest√µes?</strong><br>curriculo-araguaina@seduc.to.gov.br</p></center>
      </div>
    </section>

    <!-- Se√ß√µes espec√≠ficas para cada tipo de documento -->
    
    <!-- Memorandos -->
    <section id="memorandos" class="content-section hidden">
      <button class="back-btn" data-back="documentos-principal">‚Üê Voltar para Documentos Oficiais</button>
      <header class="section-header">
        <h2>Memorandos</h2>
        <input id="search-memorandos" class="search" type="search" placeholder="Buscar por nome..." aria-label="Buscar em Memorandos" />
      </header>
      <ul class="file-list" id="list-memorandos"></ul>
      <div class="loading" id="loading-memorandos" hidden>Carregando‚Ä¶</div>
      <div class="empty" id="empty-memorandos" hidden>Nenhum arquivo dispon√≠vel.</div>
      <div class="error" id="error-memorandos" hidden>Ocorreu um erro ao carregar os arquivos.</div>
    </section>

    <!-- Matriz de Recomposi√ß√£o -->
    <section id="matriz-recomposicao" class="content-section hidden">
      <button class="back-btn" data-back="documentos-principal">‚Üê Voltar para Documentos Oficiais</button>
      <header class="section-header">
        <h2>Matriz de Recomposi√ß√£o</h2>
        <input id="search-matriz-recomposicao" class="search" type="search" placeholder="Buscar por nome..." aria-label="Buscar em Matriz de Recomposi√ß√£o" />
      </header>
      <ul class="file-list" id="list-matriz-recomposicao"></ul>
      <div class="loading" id="loading-matriz-recomposicao" hidden>Carregando‚Ä¶</div>
      <div class="empty" id="empty-matriz-recomposicao" hidden>Nenhum arquivo dispon√≠vel.</div>
      <div class="error" id="error-matriz-recomposicao" hidden>Ocorreu um erro ao carregar os arquivos.</div>
    </section>

    <!-- Portarias -->
    <section id="portarias" class="content-section hidden">
      <button class="back-btn" data-back="documentos-principal">‚Üê Voltar para Documentos Oficiais</button>
      <header class="section-header">
        <h2>Portarias</h2>
        <input id="search-portarias" class="search" type="search" placeholder="Buscar por nome..." aria-label="Buscar em Portarias" />
      </header>
      <ul class="file-list" id="list-portarias"></ul>
      <div class="loading" id="loading-portarias" hidden>Carregando‚Ä¶</div>
      <div class="empty" id="empty-portarias" hidden>Nenhum arquivo dispon√≠vel.</div>
      <div class="error" id="error-portarias" hidden>Ocorreu um erro ao carregar os arquivos.</div>
    </section>

    <!-- BNCC / DCT -->
    <section id="bncc-dct" class="content-section hidden">
      <button class="back-btn" data-back="documentos-principal">‚Üê Voltar para Documentos Oficiais</button>
      <header class="section-header">
        <h2>BNCC / DCT</h2>
        <input id="search-bncc-dct" class="search" type="search" placeholder="Buscar por nome..." aria-label="Buscar em BNCC / DCT" />
      </header>
      <ul class="file-list" id="list-bncc-dct"></ul>
      <div class="loading" id="loading-bncc-dct" hidden>Carregando‚Ä¶</div>
      <div class="empty" id="empty-bncc-dct" hidden>Nenhum arquivo dispon√≠vel.</div>
      <div class="error" id="error-bncc-dct" hidden>Ocorreu um erro ao carregar os arquivos.</div>
    </section>

    <!-- PPP -->
    <section id="ppp" class="content-section hidden">
      <button class="back-btn" data-back="documentos-principal">‚Üê Voltar para Documentos Oficiais</button>
      <header class="section-header">
        <h2>PPP - Projeto Pol√≠tico Pedag√≥gico</h2>
        <input id="search-ppp" class="search" type="search" placeholder="Buscar por nome..." aria-label="Buscar em PPP" />
      </header>
      <ul class="file-list" id="list-ppp"></ul>
      <div class="loading" id="loading-ppp" hidden>Carregando‚Ä¶</div>
      <div class="empty" id="empty-ppp" hidden>Nenhum arquivo dispon√≠vel.</div>
      <div class="error" id="error-ppp" hidden>Ocorreu um erro ao carregar os arquivos.</div>
    </section>

    <!-- Plataformas -->
    <section id="plataformas" class="content-section hidden">
      <button class="back-btn" data-back="documentos-principal">‚Üê Voltar para Documentos Oficiais</button>
      <header class="section-header">
        <h2>Plataformas</h2>
        <input id="search-plataformas" class="search" type="search" placeholder="Buscar por nome..." aria-label="Buscar em Plataformas" />
      </header>
      <ul class="file-list" id="list-plataformas"></ul>
      <div class="loading" id="loading-plataformas" hidden>Carregando‚Ä¶</div>
      <div class="empty" id="empty-plataformas" hidden>Nenhum arquivo dispon√≠vel.</div>
      <div class="error" id="error-plataformas" hidden>Ocorreu um erro ao carregar os arquivos.</div>
    </section>
    
  </main>

  <footer class="site-footer">
    <p>SRE Aragua√≠na ¬© 2026 - 
    <a href="https://bibliotecadidatica.github.io/creditos.html" target="_blank">Desenvolvido por Guilherme Silva Vanderley</a> -
    <a href="https://bibliotecadidatica.github.io/politicas-de-privacidade.html" target="_blank">Pol√≠ticas de Privacidade</a> - 
    <a href="https://bibliotecadidatica.github.io/termos-de-uso.html" target="_blank">Termos de Uso</a></p>
  </footer>

  <script>
    // Configura√ß√£o com IDs reais das pastas do Google Drive
    window.CONFIG_DOCS = {
      API_KEY: "AIzaSyAnO6lMGiJ5UyT6zo7qW2NSGPiBGtMPl88",
      FOLDER_IDS: {
        memorandos: "18nHsVU5xBLf4vcc2Me6qtLXvvMj16-lZ",
        "matriz-recomposicao": "1eLMF3arb9sYqKdJ7YoiRJcLPH12AgzSj",
        portarias: "10mdbnrQOsSS64KJweXRzXoBbB4kbmTBF",
        "bncc-dct": "1lscTs8f1EuHqgUUlsGm0gTPLa4l-3wWt",
        ppp: "1ce7bn3WnPygHvKd2jSYjulc4dtHUZ46B",
        plataformas: "11HMfVf9X_3yw20ZGbIQFC-VbX4SkpdQy"
      }
    };

    // Fun√ß√µes para navega√ß√£o entre se√ß√µes
    function showSection(id) {
      const section = document.getElementById(id);
      if(!section) return;
      
      document.querySelectorAll(".content-section").forEach(s => s.classList.add("hidden"));
      section.classList.remove("hidden");
      
      // Rola para o topo da p√°gina
      window.scrollTo(0, 0);
      
      // Atualiza a URL com hash
      if (id !== 'documentos-principal') {
        window.history.replaceState(null, null, `#${id}`);
      } else {
        window.history.replaceState(null, null, ' ');
      }
    }

// Configura√ß√£o da navega√ß√£o
function setupNavigation() {
  document.addEventListener("click", (e) => {
    // Navega√ß√£o para se√ß√µes espec√≠ficas
    const docBtn = e.target.closest("a[data-show]");
    if(docBtn) {
      e.preventDefault();
      const targetId = docBtn.getAttribute('data-show');
      showSection(targetId);
    }
    
    // Bot√£o de voltar - apenas para navega√ß√£o interna
    const backBtn = e.target.closest(".back-btn[data-back]");
    if(backBtn) {
      e.preventDefault();
      const targetId = backBtn.getAttribute('data-back');
      showSection(targetId);
    }
  });
}

    // Fun√ß√£o para carregar arquivos do Google Drive
    const MIME_ICONS = [
      {match: "pdf", icon: "üìï"},
      {match: "spreadsheet", icon: "üìä"},
      {match: "presentation", icon: "üìë"},
      {match: "image", icon: "üñºÔ∏è"},
      {match: "video", icon: "üé¨"},
      {match: "audio", icon: "üéµ"},
    ];

    function iconForMime(mime) {
      for(const m of MIME_ICONS) {
        if(mime.includes(m.match)) return m.icon;
      }
      return "üìÑ";
    }

    async function loadFiles(folderId, {listId, loadingId, emptyId, errorId, searchId}) {
      const listEl = document.getElementById(listId);
      const loadingEl = document.getElementById(loadingId);
      const emptyEl = document.getElementById(emptyId);
      const errorEl = document.getElementById(errorId);
      const searchEl = document.getElementById(searchId);

      if(!folderId) { 
        listEl.innerHTML = "<li>Pasta n√£o configurada.</li>"; 
        loadingEl.hidden = true;
        emptyEl.hidden = true;
        return; 
      }

      // Mostra skeletons
      listEl.innerHTML = `
        <li class="skeleton-item"></li>
        <li class="skeleton-item"></li>
        <li class="skeleton-item"></li>
      `;
      loadingEl.hidden = false;
      emptyEl.hidden = true;
      errorEl.hidden = true;

      const fields = "files(id,name,mimeType,modifiedTime,webViewLink,webContentLink,iconLink)";
      const url = `https://www.googleapis.com/drive/v3/files?q='${encodeURIComponent(folderId)}'+in+parents+and+trashed=false&orderBy=modifiedTime%20desc&fields=${fields}&key=${encodeURIComponent(window.CONFIG_DOCS.API_KEY)}`;

      try {
        const res = await fetch(url);
        if(!res.ok) throw new Error("HTTP " + res.status);
        const data = await res.json();
        const files = data.files || [];

        if(files.length === 0) {
          emptyEl.hidden = false;
          listEl.innerHTML = "";
          return;
        }

        const render = (items) => {
          listEl.innerHTML = "";
          for(const file of items) {
            const icon = iconForMime(file.mimeType);
            const when = new Date(file.modifiedTime).toLocaleDateString("pt-BR");
            const link = file.webViewLink || file.webContentLink || `https://drive.google.com/file/d/${file.id}/view`;
            const li = document.createElement("li");
            li.innerHTML = `<div class="title"><a href="${link}" target="_blank" rel="noopener">${icon} ${file.name}</a></div>
                            <div class="meta">Atualizado em ${when}</div>`;
            listEl.appendChild(li);
          }
        };

        render(files);

        if(searchEl) {
          searchEl.addEventListener("input", () => {
            const q = searchEl.value.trim().toLowerCase();
            const filtered = files.filter(f => f.name.toLowerCase().includes(q));
            if(filtered.length === 0) {
              listEl.innerHTML = "<li>Nenhum resultado para a busca.</li>";
            } else {
              render(filtered);
            }
          });
        }
      } catch(err) {
        console.error(err);
        errorEl.hidden = false;
      } finally {
        loadingEl.hidden = true;
      }
    }

    // Inicializa√ß√£o
    document.addEventListener("DOMContentLoaded", () => {
      setupNavigation();
      
      // Carrega arquivos das se√ß√µes de documentos
      const F = window.CONFIG_DOCS.FOLDER_IDS;
      
      loadFiles(F.memorandos, {listId:"list-memorandos", loadingId:"loading-memorandos", emptyId:"empty-memorandos", errorId:"error-memorandos", searchId:"search-memorandos"});
      loadFiles(F["matriz-recomposicao"], {listId:"list-matriz-recomposicao", loadingId:"loading-matriz-recomposicao", emptyId:"empty-matriz-recomposicao", errorId:"error-matriz-recomposicao", searchId:"search-matriz-recomposicao"});
      loadFiles(F.portarias, {listId:"list-portarias", loadingId:"loading-portarias", emptyId:"empty-portarias", errorId:"error-portarias", searchId:"search-portarias"});
      loadFiles(F["bncc-dct"], {listId:"list-bncc-dct", loadingId:"loading-bncc-dct", emptyId:"empty-bncc-dct", errorId:"error-bncc-dct", searchId:"search-bncc-dct"});
      loadFiles(F.ppp, {listId:"list-ppp", loadingId:"loading-ppp", emptyId:"empty-ppp", errorId:"error-ppp", searchId:"search-ppp"});
      loadFiles(F.plataformas, {listId:"list-plataformas", loadingId:"loading-plataformas", emptyId:"empty-plataformas", errorId:"error-plataformas", searchId:"search-plataformas"});

      // Mostra se√ß√£o inicial ou a partir do hash da URL
      const hash = window.location.hash.substring(1);
      showSection(hash || 'documentos-principal');
    });
  </script>
</body>
</html>
